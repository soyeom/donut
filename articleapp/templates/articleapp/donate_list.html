<!DOCTYPE html>

{% load bootstrap4 %}

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../../static/css/practice.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- 롤링 배너 JavaScript -->
    <script language="JavaScript">
        $(document).ready(function() {
            var $banner = $(".banner").find("ul");

            var $bannerWidth = $banner.children().outerWidth();
            var $bannerHeight = $banner.children().outerHeight();
            var $bannerLength = $banner.children().length;
            var rollingId;

            rollingId = setInterval(function() { rollingStart(); });

            function rollingStart() {
                $banner.css("width", $bannerWidth * $bannerLength + "px");
                $banner.css("height", $bannerHeight + "px");
                $banner.animate({left: - $bannerWidth + "px"}, 1500, function() {
                    $(this).append("<li>" + $(this).find("li:first").html() + "</li>");
                    $(this).find("li:first").remove();
                    $(this).css("left", 1);
                });
            }
        });
    </script>
</head>
<body>
<!-- 팝업창 띄우기 js -->
<script>
    window.onload = function () {
        function onClick() {
            document.querySelector('.modal_wrap').style.display = 'block';
            document.querySelector('.black_bg').style.display = 'block';
        }
        function offClick() {
            document.querySelector('.modal_wrap').style.display = 'none';
            document.querySelector('.black_bg').style.display = 'none';
        }
        document.getElementById('modal_btn').addEventListener('click', onClick);
        document.querySelector('.modal_close').addEventListener('click', offClick);
    };
</script>

<div id="wrap">
    <div id="contents" class="customer">
        <!-- Donut 로고 -->
        <h1 id="top_logo">
            <img src="../../../static/img/donut.png" alt="">
            <a href="{% url 'introapp:home' %}">Donut</a>
        </h1>

        <!-- 후원 단체 이미지 -->
        <div class="banner_top white">
            <div class="banner">
                <ul>
                    <li>
                        <img src="https://www.unicef.or.kr/static/logo_active@2x-8a9e02df64d664f02ffc1ceaaa5ad4fd.png">
                    </li>
                    <li>
                        <img src="https://chest.or.kr/common/img/common/logo.png">
                    </li>
                    <li>
                        <img src="https://www.redcross.or.kr/images/main_v14/dh-logo.gif">
                    </li>
                    <li>
                        <img src="https://www.kidsfuture.or.kr/data/file/202107031920_2cc731ced8d1b0000.png">
                    </li>
                    <li>
                        <img src="https://www.sc.or.kr/webPub/sc_2018/images/main/logo_on.png">
                    </li>
                    <li>
                        <img src="https://www.worldvision.or.kr/main2017/images/wv_logo_02.png?crc=3773745825">
                    </li>
                </ul>
            </div>
        </div>

        <div class="inner_cont customer_cont">
            <div class="section section-top">
                <div class="inner">
                    <h3>모집 안내</h3>
                    <div class="line pink"></div>
                    <h4>공고모집 살펴보기</h4>
                    <div class="blank_line"></div>
                    <p>
                        Donut에 방문해 주셔서 감사합니다.
                    </p>

                    <!-- 팝업창 -->
                    <button type="button" id="modal_btn">
                        <img src="../../../static/img/info.png">
                        기부 참여 가이드 >>
                    </button>
                    <div class="modal_wrap pull rd">
                        <div class="modal_close"><a href="#">close</a></div>
                        <div id="text">
                            ※
                            <br>
                            <span>
                                결제가 완료되면 참여 취소 및 환불이 불가능합니다.
                                <br>
                                이 점 유의하여 신중히 참여해 주시기 바랍니다.
                            </span>
                        </div>
                    </div>

                    <!-- 검색 구역 -->
                    <div id="search">
                        <div id="searchimg">
                            <img src="../../../static/img/search.png">
                        </div>
                        <form action="" method="GET">
                            <div id="searchtxt">
                                <input type="text" name="q" value="{{ q }}" placeholder="검색어를 입력해주세요.">
                            </div>
                        </form>
                    </div>

                    <!-- 게시글 구역 -->
                    {% if object_list %}
                    <div class="content">
                        {% for each in object_list %}
                        <ul class="card">
                            <li>
                                <div class="img">
                                    {% if each.image %}
                                        <img src="{{ each.image.url }}" alt="">
                                    {% else %}
                                        <img src="https://i.pinimg.com/236x/1b/d6/ab/1bd6ab1856d5a899d5c65900b51cf73f.jpg" alt="">
                                    {% endif %}
                                </div>
                                <div class="text">
                                    <h2>{{each.title}}</h2>
                                    <p>{{each.writer}}</p>
                                    <div class="button">
                                        <a href="{% url 'articleapp:detail' each.id %}">
                                            <div class="btnText">
                                                자세히보기
                                            </div>
                                            <div class="btnTwo">
                                                <p class="btnText2">GO!</p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        {% endfor %}

                        <!-- 글이 없는 경우 -->
                        {% else %}
                        <div class="text-center">
                            <h1>No Articles YET!</h1>
                        </div>
                        {% endif %}
                    </div>

                    <!-- 글쓰기 버튼 -->
                    <div id="btn">
                        <button class="custom btn-1">
                            <a href="{% url 'articleapp:create' %}">
                            새로운 캠페인
                            </a>
                        </button>
                    </div>

                    <!-- 페이징 구역 -->
                    <div id="page_nav">
                        <ul class="pagination justify-content mb-4">
                            {% if page_obj.has_previous %}
                            <li class="page-item prev">
                                <a class="page-link" href="?page={{page_obj.previous_page_number}}">< Prev</a>
                            </li>
                            {% endif %}

                            {% for p in page_obj.paginator.page_range %}
                            <li class="page-num">
                                <a href="?page={{p}}" class="mx-1">{{p}}</a>
                            </li>
                            {% endfor %}

                            {% if page_obj.has_next %}
                            <li class="page-item next">
                                <a class="page-link" href="?page={{page_obj.next_page_number}}">Next ></a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>

                    <!-- 맨 위로 이동 하는 버튼-->
                    <div id="top"><a href="#"><i class="fa fa-arrow-up"><img src="../../../static/img/up.png"></i></a></div>
                    <script>
                        $('#top').click(function () {
                            $('html, body').animate({scrollTop:0}, 'slow');
                        });
                    </script>
                </div>
            </div>
        </div>
    </div>
    <div id="footer">
        <address>
            <em><a href="../../../introapp/templates/introapp/home.html" class="logo"><span class="blind"></span></a></em>
            <em class="copy">고려대학교 세종캠퍼스</em>
            <em class="u_cri">©</em>
            <a href="#" class="u_cra">Donut</a>
        </address>
    </div>
</div>
<div>
    {% if q %}
    <h5 style="font-weight: 550;">'{{ q }}' 검색 결과입니다.</h5>
    {% endif %}
</div>
</body>
</html>