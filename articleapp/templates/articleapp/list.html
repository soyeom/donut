{% extends 'base.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="../../../static/css/button.css">
<link rel="stylesheet" href="../../../static/css/board.css">

{% if object_list %}

<div>
    {% if q %}
    <h5 style="font-weight: 550;">'{{ q }}' 검색 결과입니다.</h5>
    {% endif %}
</div>

<div>
    <table>
        <thead>
            <tr>
                <th class="th1">번호</th>
                <th class="th2">작성자</th>
                <th class="th3">제목</th>
                <th class="th4">작성일시</th>
            </tr>
        </thead>

        <tbody>
            <div class="tbody_div">
              {% for each in object_list %}
              <tr>
                  <td>{{each.id}}</td>
                  <td class="td1">[{{each.writer}}]</td>
                  <td>
                    <a href="{% url 'articleapp:detail' each.id %}">{{each.title}}</a>
                  </td>
                  <td>
                      {{each.created_at}}
                  </td>
              </tr>
              {% endfor %}
            </div>

            {% else %}
            <div class="text-center">
              <h1>No Articles YET!</h1>
            </div>
            {% endif %}
        </tbody>
    </table>
</div>

<div>
    <form action="" method="GET">
        <div style="margin-top:1rem;">
            <input type="text" name="q" value="{{ q }}" style="width:14em;" placeholder="검색어를 입력해주세요.">
        </div>
    </form>
</div>

{% if is_paginated %}
<ul class="ul1">
  {% if page_obj.has_previous %}
  <a href="?page={{ page_obj.previous_page_number }}">&laquo;</a>
  {% else %}
  <span>&laquo;</span>
  {% endif %}

  {% for page in paginator.page_range %}

    {% if page_obj.number == page %}
    <span>{{ page }}</span>
    {% else %}
    <a href="?page={{ page }}">{{ page }}</a>
    {% endif %}

  {% endfor %}

  {% if page_obj.has_next %}
  <a href="?page={{ page_obj.next_page_number }}">&raquo;</a>
  {% else %}
  <span>&raquo;</span>
  {% endif %}
</ul>
{% endif %}

<div class="end">
  <a href="{% url 'articleapp:create' %}" class="button">
    Create Article
  </a>
</div>

{% endblock %}